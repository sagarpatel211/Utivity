<!-- Authors: Saurin Patel, Sagar Patel
Program Name: Utivity Productivity app
Program Description: History tab for use of tracking productivity
Last Revision Date: 2021 - 1 - 30
ICS 4U1
Mr. Moore -->

<!DOCTYPE html>
<html lang="en">
    <head><!--This header section is basic HTML boilerplate code, it references the viewport, scale, and stylesheet-->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--CSS Styling -->
        <link rel="shortcut icon" href="#">
        <link rel="stylesheet" href="static/css/styles.css">
    </head><!--This is the header file which includes the profile picture -->
    <body id="body-pd" style="overflow: visible;"><!--Overflow visible since we wanted the todo to be scrollable-->
        <header class="header" id="header">
            <div class="header__img">
                <img src="{{ image_file }}" class="usericonpos" alt=""> <!--This renders the profile picture by requesting it from flask-->
            </div>
        </header>
        <div class="l-navbar" id="nav-bar"> <!--This renders the nav bar elements-->
            <nav class="nav">
                <div>
                    <a href="dashboard" class="nav__logo"> <!--This is the dashboard link-->
                        <img src="static/img/utivity.png" height="28"><!--This is the utivity icon-->
                    </a>

                    <div class="nav__list">
                        <a href="dashboard" class="nav__link"> <!--This is the dashboard link-->
                            <img src="static/img/home.png" width="24" height="24"><!--This is the dashboard icon-->
                        </a>

                        <a href="timer" class="nav__link"> <!--This is the timer link-->
                            <img src="static/img/clock.png" width="24" height="24"><!--This is the timer icon-->
                        </a>
                        
                        <a href="history" class="nav__link"> <!--This is the history link-->
                            <img src="static/img/database.png" width="24" height="24"><!--This is the history icon-->
                        </a>

                        <a href="todo" class="nav__link"> <!--This is the todo link-->
                            <img src="static/img/check-square.png" width="24" height="24"><!--This is the todo icon-->
                        </a>

                        <a href="settings" class="nav__link"> <!--This is the settings link-->
                            <img src="static/img/settings.png" width="24" height="24"><!--This is the settings icon-->
                        </a>

                        <a href="help" class="nav__link"> <!--This is the help link-->
                            <img src="static/img/help-circle.png" width="24" height="24"><!--This is the helppage icon-->
                        </a>
                    </div>
                </div>
                <a href="logout" class="nav__link"> <!--This is the logout link-->
                    <img src="static/img/log-out.png" width="24" height="24"><!--This is the logout icon-->
                </a>
            </nav>
        </div>
        <!-- Creates a title called History and gives it the common pagetitle class that all generic titles receive -->
        <h1 class="pagetitle">History</h1>
        <!-- A div (children class) is made in which a table is inserted to allow for better tracking of data collected -->
        <div class="container">
            <table class="history-table">
                    <thead>
                    <!-- In the table there are 3 columns which are all given classes, allowing for css manipulation -->
                    <!-- These classes are all dependent on the timer working correctly and sending correct data -->
                    <!-- The timer will send the id, start time and end time, which allows for this table to easily be created -->
                      <th class = 'id-column-history'; scope="col">ID</th>
                      <th class = 'start-time-history'; scope="col">Start Time</th>
                      <th class = 'elapsed-time-history'; scope="col">Elapsed Time</th>
                    </thead>
                    <!-- This part of the code works just like a python file would. It takes into account the number of times that are in a timed data table/database -->
                    <!-- For every time that is found, the data is presented in rows in which we've assigned classes so we can manipulate the margins and padding -->
                    <!-- When there is data to present it will go down the list of data and output all the elapsed times and dates -->
                    <tbody>
                        {% for time in times %} <!--For each time in the times table-->
                            <tr class="history-data-table">
                                <th scope="row">{{ time.id }}</th><!--Display the id of the time-->
                                <td class = "start-time-column">{{ time.start_time }}</td><!--Display the start time-->
                                <td class = "elapsed-time-column">{{ time.elapsed_time }}</td><!--Display the elapsed time-->
                            </tr>
                        {% endfor %} <!--End for-->
                    </tbody>
                  </table>  
            </div>
    </body>
</html>